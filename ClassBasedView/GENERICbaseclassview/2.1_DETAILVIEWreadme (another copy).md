# Django 5 Generic Class-Based Views ‚Äî Deep Mastery Series

## üìç PART 2 ‚Äî DetailView (Single Object View)

If ListView = ‚Äúmany objects‚Äù  
üëâ DetailView = **one specific object**

---

# üß† What is DetailView?

**DetailView displays ONE record from the database.**

---

## üåê Real Website Examples

| Feature | DetailView Equivalent |
|----------|----------------------|
Amazon product page | One product |
Blog post page | One article |
User profile | One user |
Issue page | One ticket |
YouTube video page | One video |

---

# üß© One-Line Definition

> DetailView displays a single object from a model.

---

# ‚öôÔ∏è Minimum Working Example

## Model

```python
class Book(models.Model):
    title = models.CharField(max_length=200)
    author = models.CharField(max_length=100)
    price = models.IntegerField()
View
python
Copy code
from django.views.generic import DetailView

class BookDetailView(DetailView):
    model = Book
URL (VERY IMPORTANT)
DetailView MUST know which object to show

Using Primary Key (pk)
python
Copy code
path("book/<int:pk>/", BookDetailView.as_view(), name="book_detail")
Example URL:

bash
Copy code
/book/5/
üìÑ Template (default)
Copy code
book_detail.html
Format:

php-template
Copy code
<modelname>_detail.html
üî• What Django Automatically Does
When you write:

python
Copy code
model = Book
Django internally runs:

python
Copy code
Book.objects.get(pk=pk_from_url)
üß† GET Request Flow (Step-by-Step)
User visits:

bash
Copy code
/book/5/
Django pipeline:

URL extracts pk=5

DetailView receives request

Query runs ‚Üí get object

Context prepared

Template rendered

HTML returned

üì¶ Template Context Variables
‚≠ê Primary variable
csharp
Copy code
object
Example:

html
Copy code
<h1>{{ object.title }}</h1>
‚≠ê Also available (model name)
nginx
Copy code
book
Django automatically adds:

php-template
Copy code
<modelname>
Example:

html
Copy code
{{ book.author }}
üß† Why two names?
Convenience + backward compatibility.

‚öôÔ∏è Core Attributes (A-to-Z)
‚úÖ model
Most common usage.

python
Copy code
model = Book
‚úÖ queryset
Alternative to model.

python
Copy code
queryset = Book.objects.filter(price__gt=100)
Only objects in this queryset can be accessed.

‚úÖ template_name
Custom template file.

python
Copy code
template_name = "books/single_book.html"
‚úÖ context_object_name
Rename variable inside template.

python
Copy code
context_object_name = "mybook"
Template:

html
Copy code
{{ mybook.title }}
‚úÖ pk_url_kwarg
Change URL parameter name for ID.

Default:

nginx
Copy code
pk
Custom:

python
Copy code
pk_url_kwarg = "id"
URL:

python
Copy code
path("book/<int:id>/", BookDetailView.as_view())
‚úÖ slug_field + slug_url_kwarg
Use slug instead of numeric ID.

Model
python
Copy code
slug = models.SlugField(unique=True)
View
python
Copy code
slug_field = "slug"
slug_url_kwarg = "slug"
URL
python
Copy code
path("book/<slug:slug>/", BookDetailView.as_view())
Example:

bash
Copy code
/book/django-for-beginners/
üß© Custom Query ‚Äî MOST IMPORTANT SKILL
‚≠ê get_queryset()
Controls which objects can be viewed.

Example ‚Äî Only expensive books
python
Copy code
def get_queryset(self):
    return Book.objects.filter(price__gt=500)
If book price < 500 ‚Üí 404

Example ‚Äî User-specific data
python
Copy code
def get_queryset(self):
    return Book.objects.filter(owner=self.request.user)
üß© Add Extra Template Data
‚≠ê get_context_data()
Used constantly in real projects.

python
Copy code
def get_context_data(self, **kwargs):
    context = super().get_context_data(**kwargs)
    context["page_title"] = "Book Details"
    context["related_books"] = Book.objects.exclude(
        id=self.object.id
    )[:3]
    return context
‚ö° Access the Object in View
After object is fetched:

php
Copy code
self.object
Available inside methods.

Example
python
Copy code
def get_context_data(self, **kwargs):
    context = super().get_context_data(**kwargs)
    context["author_upper"] = self.object.author.upper()
    return context
üß™ FULL PROFESSIONAL EXAMPLE
python
Copy code
class BookDetailView(DetailView):
    model = Book
    template_name = "books/book_detail.html"
    context_object_name = "book"

    def get_queryset(self):
        return Book.objects.filter(price__gt=100)

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context["title"] = "Book Information"
        context["related"] = Book.objects.exclude(
            id=self.object.id
        )[:5]
        return context
‚ö†Ô∏è What if object NOT found?
Django automatically returns:

mathematica
Copy code
404 Not Found
You don‚Äôt need to handle it manually.

üîÑ Alternative: Override get_object()
Advanced control.

python
Copy code
def get_object(self):
    return Book.objects.get(pk=10)
Use when object retrieval logic is complex.

üß† Internal Mechanics (Deep Concept)
DetailView uses mixins:

sql
Copy code
SingleObjectMixin
TemplateResponseMixin
View
You don‚Äôt need to memorize ‚Äî just understand behavior.

‚ùå Common Mistakes
‚ùå Missing pk or slug in URL
DetailView cannot know which object to show.

‚ùå Wrong template name
Must match default or specify manually.

‚ùå Object not in queryset
Returns 404.

üöÄ Real Project Uses
Product page

Profile page

Blog article

Course page

Issue detail

Order page

Ticket details

üèÅ FINAL SUMMARY
üëâ DetailView = Display ONE object
üëâ Needs pk or slug
üëâ Automatically fetches object
üëâ Sends object to template
üëâ Highly used in real projects

üìå MASTER ONE-LINE MEMORY
DetailView shows a single object from a database model.

yaml
Copy code

---

## ‚úÖ Your move

Reply with ONE of these:

- **"Next"** ‚Üí CreateView (VERY IMPORTANT ‚Äî most used)
- **"Explain simpler"**
- **"Give practice tasks"**
- **"Test me"**
- Ask doubts

I‚Äôll wait üëç






f





ChatGPT can make mistakes. Check important info. See Cookie Preferences.

